<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta property="og:title" content="Jeremy Abbott Music"/>
      <meta property="og:type" content="website"/>
      <meta property="og:url" content="https://www.jeremy-abbott.com/"/>
      <meta property="og:site_name" content="Jeremy Abbott Music"/>
      <title>Jeremy Abbott Music</title>
      <link rel="icon" href="./favicon.ico?v=1.0">
      <link href="https://fonts.googleapis.com/css?family=Shadows+Into+Light" rel="stylesheet">
      <script>
         // Wait for page to load before configuring
         document.addEventListener("DOMContentLoaded", function() {
            assignEncodedEmail("Wrerzl@Wrerzlnoobgg.arg");
            animateHero(75);
         });

         /**
          * Link to ROT13 encoded e-mail address
          * @param encoded {String}
          */
         function assignEncodedEmail(encoded) {
            var addr = encoded.replace(/[a-zA-Z]/g, function(c) {
               return String.fromCharCode((c<="Z"?90:122)>=(c=c.charCodeAt(0)+13)?c:c-26);
            });
            var link = document.getElementById("email-link");
            if (link) { link.setAttribute("href", "mailto:" + addr); }
         }

         /**
          * @param percentHeight {number}
          */
         function animateHero(percentHeight) {
            var el = document.getElementById("hero");
            var timer = 0;

            if (el) {
               el.addEventListener("load", function() {
                  var img = this;
                  var fn = function() { setHeroOffset(img, percentHeight); }

                  window.addEventListener("resize", function() {
                     if (timer) { window.clearTimeout(timer); }
                     timer = window.setTimeout(fn, 200);
                  });

                  fn();
               });
            }
         }

         /**
          * @param img {Image}
          * @param percentHeight {number}
          */
         function setHeroOffset(img, percentHeight) {
            /** @type {number} */
            var w = img.clientWidth;
            /** @type {number} */
            var h = img.clientHeight;
            var p = window.devicePixelRatio;
            var newHeight = (window.innerHeight * p) * (percentHeight / 100);
            var r = h / newHeight;
            var offset = -(w - (window.innerWidth * p)) * r;

            console.log(p);

            img.style.setProperty("--heroOffset", offset + "px");
            img.style.height = percentHeight + "vh";
            img.style.left = offset + "px";
            img.style.animation = "animateHero 60s ease-in-out infinite";
         }
      </script>
      <style type="text/css">
         body {
            /* https://www.smashingmagazine.com/2015/11/using-system-ui-fonts-practical-guide/ */
            font-family: -apple-system, BlinkMacSystemFont,
               "Segoe UI", "Roboto", "Oxygen",
               "Ubuntu", "Cantarell", "Fira Sans",
               "Droid Sans", "Helvetica Neue", sans-serif;
            color: #444;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            background-color: #000;
         }

         #hero {
            position: fixed;
            top: 0;
            z-index: -1;
         }

         #logo {
            top: 10px;
            left: 10px;
            width: 10%;
            position: fixed;
            opacity: 0.8;
            animation: 2s ease-in-out 0.1s forwards spin;
         }

         header {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
         }

         section {
            width: 100%;
            z-index: 100;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 1rem 15%;
            margin-bottom: 8rem;
            box-sizing: border-box;
            transition: background-color 0.5s ease;
         }

         section:hover, section.active {
            background-color: #fff;
         }

         section.intro {
            margin-top: 25%;
         }

         section.music {
            background-color: rgba(255, 255, 255, 0.4);
            text-align: center;
         }

         section.music iframe {
            display: block;
            margin: 0 auto;
         }

         section.contact {
            text-align: center;
         }

         h1, h2 {
            font-family: "Shadows Into Light", cursive;
            margin: 0;
         }

         section h1 {
            font-size: 3rem;
         }

         section h2 {
            text-align: center;
            text-transform: uppercase;
            font-size: 2rem;

         }

         #summary p {
            font-size: 1.4rem;
         }

         #summary img {
            width: 15rem;
            float: left;
            border: 1px solid black;
            filter: grayscale(100%);
            margin-right: 1.5rem;
         }

         #summary img:hover {
            filter: grayscale(0);
         }

         #tag {
            clear: both;
            text-align: center;
            padding-top: 1rem;
         }

         .links {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            margin-top: 1rem;
         }

         .links img {
            height: 3rem;
            margin-left: 1rem;
            opacity: 0.7;
         }

         .links img:hover { opacity: 1; }

         @media only screen and (max-width: 768px) {}

         @media only screen and (max-width: 1024px) {
            /* style rules that apply only to phones and tablets */
            #logo {
               z-index: 100;
               width: 20%;
               position: absolute;
            }
            header {
               flex-wrap: wrap;
               justify-content: center;
            }

            section {
               margin-bottom: 4rem;
               transition: none;
            }
            section.music { padding: 0; }
            section h1 {
               text-align: center;
               line-height: 1em;
            }

            .links {
               float: none;
               width: 100%;
            }
            #social-links { justify-content: space-around; }

            .links img {
               height: 2rem;
               margin-left: 0;
            }
            #summary p { font-size: 1rem; }
            #summary img {
               filter: none;
               float: none;
               margin-top: 1rem;
               display: block;
               width: 100%;
            }
         }

         @media only screen and (max-width: 1350px) and (min-width: 1025px); {
            .links img { height: 2rem; }
            section h1 { font-size: 2.5rem; }
         }

         @keyframes spin {
            from { transform: rotateX(720deg); }
              to { transform: rotateX(0); }
         }

         @keyframes animateHero {
            0% { transform: translateX(0); }
            50% { transform: translateX(calc(var(--heroOffset) * -1)); }
            100% { transform: translateX(0); }
         }

      </style>
   </head>
   <body>
      <img id="logo" src="./img/jam-logo.png"/>
      <img id="hero" src="./img/guitar-perspective.jpg"/>
      <section class="intro">
         <header>
            <h1>Jeremy Abbott Music</h1>
            <div class="links" id="social-links">
               <a href="https://www.facebook.com/JeremyAbbottMusic/"><img src="./img/facebook.svg"/></a>
               <a href="https://www.youtube.com/channel/UC8CT2JsvhwecoFXHnBUTYvw/"><img src="./img/youtube.svg"/></a>
            </div>
            <div class="links" id="music-links">
               <a href="https://open.spotify.com/artist/56twM7vvrh0tKErFw7272U"><img src="./img/spotify.svg"/></a>
               <a href="https://www.amazon.com/s/ref=ntt_srch_drd_B001UADQPU?ie=UTF8&field-keywords=Jeremy%20Abbott&index=digital-music&search-type=ss"><img src="./img/amazon.svg"/></a>
               <a href="https://store.cdbaby.com/Artist/JeremyAbbott"><img src="./img/cdbaby.svg"/></a>
               <a href="https://itunes.apple.com/us/artist/jeremy-abbott/974950729"><img src="./img/itunes.svg"/></a>
            </div>
         </header>

         <div id="summary">
            <img id="head-shot" src="./img/jeremy-smiling.jpg"/>
            <p>Forged in the late eighties and early nineties. Honed in the modern century. I enjoy a lot of different styles and they occasionally all bleed through.</p>
         </div>

         <div id="tag">
            Singer/song writer/guitarist
         </div>
      </section>

      <section class="music">
         <!--<iframe src="https://open.spotify.com/embed?uri=spotify:user:jeremychadabbott:playlist:0KVsKSPRQL19xgKLqTxu4K&theme=dark" width="400" height="720" frameborder="0" allowtransparency="true"></iframe>-->
         <iframe name="full" style="width:100%;height:520px;border:0px;" src="//widget.cdbaby.com/391181bf-d68e-4bae-a85a-8e6a61e8aa6f/full/dark/transparent"></iframe>
      </section>

      <section class="contact">
         <h2>Contact</h2>
         <a id="email-link" href="">E-mail Jeremy Abbott</a>
      </section>
   </body>
</html>
